(this["webpackJsonpkangsayur-app"]=this["webpackJsonpkangsayur-app"]||[]).push([[0],{110:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),c=t(28),s=t.n(c),i=(t(83),t(84),t(19)),o=t(20),j=t(22),l=t(21),h=t(57),u=t(9),d=t(35),b=t(76),g=t(123),m=t(124),O=t(115),x=t(116),p=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},f=t(15),k=t(14),v=t(120),y=t(121),C=t(77),S=t(2),K=function(a){var e=a.showModal,t=a.handleClose,n=a.keranjangDetail,r=a.jumlah,c=a.keterangan,s=a.tambah,i=a.kurang,o=a.changeHandler,j=a.handleSubmit,l=a.totalHarga,h=a.hapusPesanan;return n?Object(S.jsxs)(v.a,{show:e,onHide:t,children:[Object(S.jsx)(v.a.Header,{closeButton:!0,children:Object(S.jsxs)(v.a.Title,{children:[n.product.nama," ",Object(S.jsxs)("strong",{children:["(Rp. ",p(n.product.harga),")"]})]})}),Object(S.jsx)(v.a.Body,{children:Object(S.jsxs)(y.a,{onSubmit:j,children:[Object(S.jsxs)(y.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(S.jsx)(y.a.Label,{children:"Total Harga :"}),Object(S.jsx)("p",{children:Object(S.jsxs)("strong",{children:["Rp. ",p(l)]})})]}),Object(S.jsxs)(y.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(S.jsx)(y.a.Label,{children:"Jumlah :"}),Object(S.jsx)("br",{}),Object(S.jsx)(C.a,{variant:"primary",size:"sm",className:"mr-2",onClick:function(){return i()},children:Object(S.jsx)(k.a,{icon:f.c})}),Object(S.jsx)("strong",{children:r}),Object(S.jsx)(C.a,{variant:"primary",size:"sm",className:"ml-2",onClick:function(){return s()},children:Object(S.jsx)(k.a,{icon:f.d})})]}),Object(S.jsxs)(y.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(S.jsx)(y.a.Label,{children:"Keterangan :"}),Object(S.jsx)(y.a.Control,{as:"textarea",rows:3,name:"keterangan",placeholder:"Contoh : Kol, Setengah",value:c,onChange:function(a){return o(a)}})]}),Object(S.jsx)(C.a,{variant:"primary",type:"submit",children:"Simpan"})]})}),Object(S.jsx)(v.a.Footer,{children:Object(S.jsxs)(C.a,{variant:"danger",onClick:function(){return h(n.id)},children:[Object(S.jsx)(k.a,{icon:f.h})," Hapus Pesanan"]})})]}):Object(S.jsxs)(v.a,{show:e,onHide:t,children:[Object(S.jsx)(v.a.Header,{closeButton:!0,children:Object(S.jsx)(v.a.Title,{children:"Kosong"})}),Object(S.jsx)(v.a.Body,{children:"Kosong"}),Object(S.jsxs)(v.a.Footer,{children:[Object(S.jsx)(C.a,{variant:"secondary",onClick:t,children:"Close"}),Object(S.jsx)(C.a,{variant:"primary",onClick:t,children:"Save Changes"})]})]})},N=t(11),H=t.n(N),w="https://sayurkita-json.herokuapp.com/",L=function(a){Object(j.a)(t,a);var e=Object(l.a)(t);function t(){var a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=e.call.apply(e,[this].concat(r))).submitTotalBayar=function(e){var t={total_bayar:e,menus:a.props.keranjangs};H.a.post(w+"pesanans",t).then((function(e){a.props.history.push("/sukses")}))},a}return Object(o.a)(t,[{key:"render",value:function(){var a=this,e=this.props.keranjangs.reduce((function(a,e){return a+e.total_harga}),0);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"fixed-bottom d-none d-md-block ",children:Object(S.jsx)(O.a,{children:Object(S.jsxs)(b.a,{md:{span:3,offset:9},className:"px-4",children:[Object(S.jsxs)("h4",{children:["Total Harga :"," ",Object(S.jsxs)("strong",{className:"float-right mr-2",children:["Rp. ",p(e)]})]}),Object(S.jsxs)(C.a,{variant:"primary",block:!0,className:"mb-2 mt-4 mr-2",size:"lg",onClick:function(){return a.submitTotalBayar(e)},children:[Object(S.jsx)(k.a,{icon:f.f})," ",Object(S.jsx)("strong",{children:"BAYAR"})]})]})})}),Object(S.jsx)("div",{className:"d-sm-block d-md-none",children:Object(S.jsx)(O.a,{children:Object(S.jsxs)(b.a,{md:{span:3,offset:9},className:"px-4",children:[Object(S.jsxs)("h4",{children:["Total Harga :"," ",Object(S.jsxs)("strong",{className:"float-right mr-2",children:["Rp. ",p(e)]})]}),Object(S.jsxs)(C.a,{variant:"primary",block:!0,className:"mb-2 mt-4 mr-2",size:"lg",onClick:function(){return a.submitTotalBayar(e)},children:[Object(S.jsx)(k.a,{icon:f.f})," ",Object(S.jsx)("strong",{children:"BAYAR"})]})]})})})]})}}]),t}(n.Component),B=t(40),D=t.n(B),T=function(a){Object(j.a)(t,a);var e=Object(l.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).handleShow=function(a){n.setState({showModal:!0,keranjangDetail:a,jumlah:a.jumlah,keterangan:a.keterangan,totalHarga:a.total_harga})},n.handleClose=function(){n.setState({showModal:!1})},n.tambah=function(){n.setState({jumlah:n.state.jumlah+1,totalHarga:n.state.keranjangDetail.product.harga*(n.state.jumlah+1)})},n.kurang=function(){1!==n.state.jumlah&&n.setState({jumlah:n.state.jumlah-1,totalHarga:n.state.keranjangDetail.product.harga*(n.state.jumlah-1)})},n.changeHandler=function(a){n.setState({keterangan:a.target.value})},n.handleSubmit=function(a){a.preventDefault(),n.handleClose();var e={jumlah:n.state.jumlah,total_harga:n.state.totalHarga,product:n.state.keranjangDetail.product,keterangan:n.state.keterangan};H.a.put(w+"keranjangs/"+n.state.keranjangDetail.id,e).then((function(a){n.props.getListKeranjang(),D()({title:"Update Pesanan!",text:"Sukses Update Pesanan "+e.product.nama,icon:"success",button:!1})})).catch((function(a){console.log("Error yaa",a)}))},n.hapusPesanan=function(a){n.handleClose(),H.a.delete(w+"keranjangs/"+a).then((function(a){n.props.getListKeranjang(),D()({title:"Hapus Pesanan!",text:"Sukses Hapus Pesanan "+n.state.keranjangDetail.product.nama,icon:"error",button:!1})})).catch((function(a){console.log("Error yaa",a)}))},n.state={showModal:!1,keranjangDetail:!1,jumlah:0,keterangan:"",totalHarga:0},n}return Object(o.a)(t,[{key:"render",value:function(){var a=this,e=this.props.keranjangs;return Object(S.jsxs)(b.a,{md:3,className:"mt-3",children:[Object(S.jsx)("h4",{children:Object(S.jsx)("strong",{children:"Keranjang"})}),Object(S.jsx)("hr",{}),0!==e.length&&Object(S.jsx)(g.a,{className:"overflow-auto hasil",children:Object(S.jsxs)(m.a,{variant:"flush",children:[e.map((function(e){return Object(S.jsx)(m.a.Item,{onClick:function(){return a.handleShow(e)},children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(b.a,{xs:2,children:Object(S.jsx)("h4",{children:Object(S.jsx)(x.a,{pill:!0,variant:"success",children:e.jumlah})})}),Object(S.jsxs)(b.a,{children:[Object(S.jsx)("h5",{children:e.product.nama}),Object(S.jsxs)("p",{children:["Rp. ",p(e.product.harga)," "]})]}),Object(S.jsx)(b.a,{children:Object(S.jsxs)("strong",{className:"fliat-right",children:[" ","Rp. ",p(e.total_harga)]})})]})},e.id)})),Object(S.jsx)(K,Object(d.a)(Object(d.a)({handleClose:this.handleClose},this.state),{},{tambah:this.tambah,kurang:this.kurang,changeHandler:this.changeHandler,handleSubmit:this.handleSubmit,hapusPesanan:this.hapusPesanan}))]})}),Object(S.jsx)(L,Object(d.a)({keranjangs:e},this.props))]})}}]),t}(n.Component),I=function(a){var e=a.nama;return"Sayuran"===e?Object(S.jsx)(k.a,{icon:f.e,className:"mr-2"}):"Bumbu"===e?Object(S.jsx)(k.a,{icon:f.a,className:"mr-2"}):"Lauk Pauk"===e?Object(S.jsx)(k.a,{icon:f.b,className:"mr-2"}):"Frozen Food"===e?Object(S.jsx)(k.a,{icon:f.g,className:"mr-2"}):Object(S.jsx)(k.a,{icon:f.i,className:"mr-2"})},P=function(a){Object(j.a)(t,a);var e=Object(l.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).state={categories:[]},n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var a=this;H.a.get(w+"categories").then((function(e){var t=e.data;a.setState({categories:t})})).catch((function(a){console.log("Error yaa",a)}))}},{key:"render",value:function(){var a=this.state.categories,e=this.props,t=e.changeCategory,n=e.pilihKategori;return Object(S.jsxs)(b.a,{md:2,className:"mt-3",children:[Object(S.jsx)("h4",{children:Object(S.jsx)("strong",{children:"Daftar Kategori"})}),Object(S.jsx)("hr",{}),Object(S.jsx)(m.a,{children:a&&a.map((function(a){return Object(S.jsx)(m.a.Item,{onClick:function(){return t(a.nama)},className:n===a.nama&&"category-aktif",style:{cursor:"pointer"},children:Object(S.jsxs)("h5",{children:[Object(S.jsx)(I,{nama:a.nama})," ",a.nama]})},a.id)}))})]})}}]),t}(n.Component),F=t(122),M=t(117),E=t(125),A=t(119),R=function(){return Object(S.jsx)("div",{children:Object(S.jsx)(F.a,{variant:"dark",expand:"lg",children:Object(S.jsxs)(M.a,{children:[Object(S.jsxs)(F.a.Brand,{href:"#home",children:[Object(S.jsx)("strong",{children:"KangSayur"}),"App"]}),Object(S.jsx)(F.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(S.jsx)(F.a.Collapse,{id:"basic-navbar-nav",children:Object(S.jsxs)(E.a,{className:"mr-auto",children:[Object(S.jsx)(E.a.Link,{href:"#home",children:"Home"}),Object(S.jsx)(E.a.Link,{href:"#link",children:"Link"}),Object(S.jsxs)(A.a,{title:"Dropdown",id:"basic-nav-dropdown",children:[Object(S.jsx)(A.a.Item,{href:"#action/3.1",children:"Action"}),Object(S.jsx)(A.a.Item,{href:"#action/3.2",children:"Another action"}),Object(S.jsx)(A.a.Item,{href:"#action/3.3",children:"Something"}),Object(S.jsx)(A.a.Divider,{}),Object(S.jsx)(A.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})})})},_=function(a){var e=a.menu,t=a.masukKeranjang;return Object(S.jsx)(b.a,{md:4,xs:6,className:"mb-4",children:Object(S.jsxs)(g.a,{className:"shadow",onClick:function(){return t(e)},children:[Object(S.jsx)(g.a.Img,{variant:"top",src:"/sayurkita/Asset/images/"+e.category.nama.toLowerCase()+"/"+e.gambar,className:"img-fluid card-img-top"}),Object(S.jsxs)(g.a.Body,{children:[Object(S.jsxs)(g.a.Title,{children:[e.nama," ",Object(S.jsxs)("strong",{children:["(",e.kode,")"]})]}),Object(S.jsxs)(g.a.Text,{children:["Rp. ",p(e.harga)]})]})]})})},z=function(a){Object(j.a)(t,a);var e=Object(l.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).getListKeranjang=function(){H.a.get(w+"keranjangs").then((function(a){var e=a.data;n.setState({keranjangs:e})})).catch((function(a){console.log("Error yaa",a)}))},n.changeCategory=function(a){n.setState({pilihKategori:a,menus:[]}),H.a.get(w+"products?category.nama="+a).then((function(a){var e=a.data;n.setState({menus:e})})).catch((function(a){console.log("Error yaa",a)}))},n.masukKeranjang=function(a){H.a.get(w+"keranjangs?product.id="+a.id).then((function(e){if(0===e.data.length){var t={jumlah:1,total_harga:a.harga,product:a};H.a.post(w+"keranjangs",t).then((function(a){n.getListKeranjang(),D()({title:"Sukses Masuk Keranjang!",text:"Sukses Masuk Keranjang!"+t.product.nama,icon:"success",button:!1})})).catch((function(a){console.log("Error yaa",a)}))}else{var r={jumlah:e.data[0].jumlah+1,total_harga:e.data[0].total_harga+a.harga,product:a};H.a.put(w+"keranjangs/"+e.data[0].id,r).then((function(a){D()({title:"Sukses Masuk Keranjang!",text:"Sukses Masuk Keranjang!"+r.product.nama,icon:"success",button:!1,timer:1500})})).catch((function(a){console.log("Error yaa",a)}))}})).catch((function(a){console.log("Error yaa",a)}))},n.state={menus:[],pilihKategori:"Sayuran",keranjangs:[]},n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var a=this;H.a.get(w+"products?category.nama="+this.state.pilihKategori).then((function(e){var t=e.data;a.setState({menus:t})})).catch((function(a){console.log("Error yaa",a)})),this.getListKeranjang()}},{key:"render",value:function(){var a=this,e=this.state,t=e.menus,n=e.pilihKategori,r=e.keranjangs;return Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"mt-3",children:Object(S.jsx)(M.a,{fluid:!0,children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(P,{changeCategory:this.changeCategory,pilihKategori:n}),Object(S.jsxs)(b.a,{className:"mt-3",children:[Object(S.jsx)("h4",{children:Object(S.jsx)("strong",{children:"Produk Kami"})}),Object(S.jsx)("hr",{}),Object(S.jsx)(O.a,{className:"overflow-auto menu",children:t&&t.map((function(e){return Object(S.jsx)(_,{menu:e,masukKeranjang:a.masukKeranjang},e.id)}))})]}),Object(S.jsx)(T,Object(d.a)(Object(d.a)({keranjangs:r},this.props),{},{getListKeranjang:this.getListKeranjang}))]})})})})}}]),t}(n.Component),G=t(118),J=function(a){Object(j.a)(t,a);var e=Object(l.a)(t);function t(){return Object(i.a)(this,t),e.apply(this,arguments)}return Object(o.a)(t,[{key:"componentDidMount",value:function(){H.a.get(w+"keranjangs").then((function(a){a.data.map((function(a){return H.a.delete(w+"keranjangs/"+a.id).then((function(a){return console.log(a)})).catch((function(a){return console.log(a)}))}))})).catch((function(a){console.log("Error yaa",a)}))}},{key:"render",value:function(){return Object(S.jsxs)("div",{className:"mt-4 text-center",children:[Object(S.jsx)(G.a,{alt:"Sukses",src:"/sayurkita/Asset/images/sukses.png",width:"400"}),Object(S.jsx)("h2",{children:"Sukses Pesan"}),Object(S.jsx)("p",{children:"Terimakasih Sudah Belanja!"}),Object(S.jsx)(C.a,{variant:"primary",as:h.b,to:"/",children:"Kembali"})]})}}]),t}(n.Component),U=function(a){Object(j.a)(t,a);var e=Object(l.a)(t);function t(){return Object(i.a)(this,t),e.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return Object(S.jsxs)(h.a,{children:[Object(S.jsx)(R,{}),Object(S.jsx)("main",{children:Object(S.jsxs)(u.c,{children:[Object(S.jsx)(u.a,{path:"/",component:z,exact:!0}),Object(S.jsx)(u.a,{path:"/sukses",component:J})]})})]})}}]),t}(n.Component),Y=function(a){a&&a instanceof Function&&t.e(3).then(t.bind(null,126)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;t(a),n(a),r(a),c(a),s(a)}))};s.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(U,{})}),document.getElementById("root")),Y()},84:function(a,e,t){}},[[110,1,2]]]);
//# sourceMappingURL=main.b9e10ee1.chunk.js.map